# ğŸ’€ AnimaÃ§Ã£o de Morte - Hamo Heroes

## ğŸ¬ Efeito de RotaÃ§Ã£o + Queda na Morte

Quando o Hamo perde todas as vidas e morre, agora hÃ¡ uma animaÃ§Ã£o dramÃ¡tica de rotaÃ§Ã£o de 90 graus **COMBINADA** com queda realÃ­stica atÃ© o chÃ£o!

### âš™ï¸ **ConfiguraÃ§Ãµes da AnimaÃ§Ã£o:**

- **ğŸ”„ RotaÃ§Ã£o**: 90 graus (Ï€/2 radianos)
- **âš¡ Velocidade**: 10 graus por frame (ajustÃ¡vel)
- **â±ï¸ DuraÃ§Ã£o**: ~9 frames (0.15 segundos a 60fps)
- **ğŸ­ DireÃ§Ã£o**: RotaÃ§Ã£o no sentido horÃ¡rio
- **ğŸ¯ Centro**: Gira em torno do centro do personagem
- **â¬‡ï¸ Queda**: AplicaÃ§Ã£o de gravidade durante a morte
- **ğŸ’¥ ColisÃ£o**: Sistema de colisÃ£o ajustado para rotaÃ§Ã£o

### ğŸ¨ **Estados Visuais:**

1. **ğŸ’¥ Morte Ativada**: `this.hamo.dying = true`
2. **ğŸ”„ RotaÃ§Ã£o Iniciada**: `deathRotation` comeÃ§a em 0Â°
3. **â¬‡ï¸ Queda Iniciada**: Gravidade aplicada + impulso inicial
4. **ğŸ“ˆ RotaÃ§Ã£o Progressiva**: Aumenta 10Â° por frame (rÃ¡pido!)
5. **ğŸ›‘ RotaÃ§Ã£o Completa**: Para em exatamente 90Â°
6. **ğŸ’¥ ColisÃ£o no ChÃ£o**: Sistema ajustado para bounding box rotacionada
7. **ğŸ¨ Visual**: Personagem fica vermelho durante a morte
8. **â¸ï¸ Game Over**: Tela de fim de jogo apÃ³s 2.5 segundos

### ğŸ”§ **Propriedades TÃ©cnicas:**

```javascript
// Propriedades adicionadas ao objeto hamo:
dying: false,                    // Estado de morte
deathRotation: 0,               // Ã‚ngulo atual (0-90Â°)  
deathRotationSpeed: 10,         // Velocidade (graus/frame) - RÃPIDO!
deathFalling: false,            // Se estÃ¡ caindo durante morte
deathCollisionEnabled: true     // Se colisÃ£o rotacionada estÃ¡ ativa
```

### ğŸ¯ **SequÃªncia da Morte:**

1. **Trigger**: Hamo perde Ãºltima vida
2. **AtivaÃ§Ã£o**: `dying = true`, `deathRotation = 0`, `deathFalling = true`
3. **Impulso**: Pequeno impulso para baixo se nÃ£o estiver caindo
4. **FÃ­sica Especial**: `updateDeathPhysics()` assume controle
5. **RotaÃ§Ã£o**: Gradual atÃ© 90Â° (muito rÃ¡pida - 10Â°/frame)
6. **Gravidade**: Aplicada continuamente durante queda
7. **ColisÃ£o**: Sistema rotacionado detecta impacto com chÃ£o
8. **Sprite**: Continua usando `hamo_dying.png` (se disponÃ­vel)
9. **Delay**: 2.5 segundos para animaÃ§Ã£o completa
10. **FinalizaÃ§Ã£o**: Tela de Game Over aparece

### ğŸ¨ **Efeitos Visuais:**

- âœ… **CompatÃ­vel** com sprites customizadas
- âœ… **CompatÃ­vel** com desenho padrÃ£o
- âœ… **MantÃ©m** espelhamento (esquerda/direita)
- âœ… **Preserva** outros efeitos visuais
- âœ… **RotaÃ§Ã£o suave** frame a frame
- âœ… **Cor vermelha** durante a morte para feedback visual
- âœ… **Queda realÃ­stica** com gravidade
- âœ… **ColisÃ£o rotacionada** - bounding box ajustada
- âœ… **Impacto no chÃ£o** - para de cair ao tocar plataforma

### ğŸ”„ **Sistema de Reset:**

- **ReinÃ­cio**: `restartGame()` reseta rotaÃ§Ã£o para 0Â°
- **Estado**: `dying` volta para `false`
- **PosiÃ§Ã£o**: Personagem volta Ã  posiÃ§Ã£o normal
- **Queda**: `deathFalling` resetado para `false`
- **ColisÃ£o**: Sistema volta ao normal

### ğŸ® **Como Testar:**

1. Jogue atÃ© perder todas as vidas
2. Observe a rotaÃ§Ã£o rÃ¡pida (90Â° em ~0.15s)
3. Veja o Hamo cair enquanto rotaciona
4. Note a colisÃ£o correta com o chÃ£o
5. Aguarde a tela de Game Over (2.5s)
6. Pressione 'R' para reiniciar
7. Personagem volta ao normal

### ğŸ­ **Impacto Visual:**

- **ğŸª DramÃ¡tico**: Efeito visual impactante na morte
- **âš¡ RÃ¡pido**: RotaÃ§Ã£o muito rÃ¡pida (10Â°/frame)
- **ğŸŒ RealÃ­stico**: Queda com gravidade real
- **ğŸ¯ Preciso**: ColisÃ£o ajustada para rotaÃ§Ã£o
- **âš–ï¸ Balanceado**: NÃ£o muito longo, mas visÃ­vel
- **ğŸ¨ CinematogrÃ¡fico**: Combina rotaÃ§Ã£o + fÃ­sica
- **ğŸ’¥ Impactante**: Para corretamente no chÃ£o

### ğŸ”§ **Sistema TÃ©cnico AvanÃ§ado:**

#### **ColisÃ£o Rotacionada:**
- Calcula bounding box baseada na rotaÃ§Ã£o atual
- Usa trigonometria para dimensÃµes corretas
- Detecta colisÃ£o com precisÃ£o mesmo rotacionado

#### **FÃ­sica de Morte:**
- Gravidade independente do sistema normal
- Movimento horizontal gradualmente reduzido
- Para completamente ao tocar o chÃ£o

#### **Performance:**
- Sistema otimizado para nÃ£o afetar FPS
- ColisÃ£o calculada apenas durante morte
- Reset completo ao reiniciar

A animaÃ§Ã£o de rotaÃ§Ã£o + queda adiciona um toque ultra-dramÃ¡tico e realÃ­stico ao feedback visual do game over! ğŸ’€âš¡âœ¨
