<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Editor 3D — Coquinho Roda Tapa</title>
	<style>
		body { margin: 0; background: #222; color: #fff; font-family: Arial, sans-serif; }
		#renderCanvas { width: 100vw; height: 100vh; display: block; }
		
		/* Sidebar Esquerda - Ferramentas */
		#left-sidebar {
			position: fixed;
			left: 0; top: 0; bottom: 110px;
			width: 200px;
			background: #181a20;
			color: #fff;
			box-shadow: 2px 0 8px #0006;
			padding: 16px 12px;
			z-index: 10;
			display: flex;
			flex-direction: column;
			gap: 16px;
			overflow-y: auto;
		}
		
		/* Sidebar Direita - Outliner */
		#right-sidebar {
			position: fixed;
			right: 0; top: 0; bottom: 110px;
			width: 280px;
			background: #181a20;
			color: #fff;
			box-shadow: -2px 0 8px #0006;
			padding: 16px 12px;
			z-index: 10;
			display: flex;
			flex-direction: column;
			gap: 12px;
			overflow-y: auto;
		}
		
		/* Área de renderização */
		#main-content {
			margin-left: 200px;
			margin-right: 280px;
		}
		
		/* Botões */
		.btn {
			background: #2c3e50;
			color: #fff;
			border: none;
			padding: 8px 16px;
			border-radius: 6px;
			cursor: pointer;
			margin-bottom: 6px;
			font-size: 0.9rem;
			transition: background 0.2s;
		}
		.btn:hover { background: #34495e; }
		.btn.active { background: #3a7bd5; }
		
		/* Seções */
		.section {
			background: #23272f;
			border-radius: 6px;
			padding: 12px 8px;
		}
		.section h3 {
			margin: 0 0 8px 0;
			font-size: 0.9rem;
			color: #ccc;
			border-bottom: 1px solid #444;
			padding-bottom: 4px;
		}
		
		/* Assets Grid */
		#assets-browser {
			background: #23272f;
			border-radius: 6px;
			padding: 8px;
			max-height: 200px;
			overflow-y: auto;
			font-size: 0.8rem;
		}
		#assets-browser .asset-item {
			background: #2c3e50;
			margin: 4px 0;
			padding: 6px;
			border-radius: 4px;
			cursor: pointer;
			transition: background 0.2s;
			border: 1px solid transparent;
		}
		#assets-browser .asset-item:hover {
			background: #34495e;
			border-color: #3a7bd5;
		}
		
		/* Lista de objetos */
		#object-list {
			background: #23272f;
			border-radius: 6px;
			padding: 8px;
			min-height: 200px;
			max-height: 400px;
			overflow-y: auto;
			font-size: 0.85rem;
			list-style: none;
			margin: 0;
		}
		#object-list li {
			display: flex;
			align-items: center;
			padding: 6px;
			margin: 2px 0;
			border-radius: 4px;
			cursor: pointer;
			transition: background 0.2s;
		}
		#object-list li:hover { background: #2c3e50; }
		#object-list li.selected { background: #3a7bd5; color: #fff; }
		
		/* Search */
		#object-search {
			width: 100%;
			padding: 6px;
			background: #333;
			color: #fff;
			border: 1px solid #555;
			border-radius: 4px;
			font-size: 0.85rem;
			margin-bottom: 8px;
		}
		
		/* Bottom bar */
		#bottom-bar {
			position: fixed;
			left: 200px;
			right: 280px;
			bottom: 0;
			height: 110px;
			background: #181a20;
			border-top: 2px solid #3a7bd5;
			z-index: 20;
			display: flex;
			flex-direction: column;
			padding: 8px 24px;
			gap: 8px;
			overflow-y: auto;
		}
		
		/* Hotkeys reference */
		.hotkeys {
			background: #1a1a2e;
			border-radius: 4px;
			padding: 8px;
			font-size: 0.7rem;
			color: #888;
		}
	</style>
</head>
<body>
	<!-- Sidebar Esquerda - Ferramentas -->
	<div id="left-sidebar">
		<h2 style="margin:0 0 16px 0;font-size:1.1rem;text-align:center;">🛠️ Ferramentas</h2>
		
		<!-- Primitivos -->
		<div class="section">
			<h3>➕ Adicionar</h3>
			<button class="btn" id="add-cube">📦 Cubo</button>
			<button class="btn" id="add-sphere">⚪ Esfera</button>
			<button class="btn" id="add-plane">🟦 Plano</button>
		</div>
		
		<!-- Gizmos -->
		<div class="section">
			<h3>🎛️ Transformar</h3>
			<div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:4px;">
				<button class="btn" id="gizmo-move" title="Move (G)">↔️</button>
				<button class="btn" id="gizmo-rotate" title="Rotate (R)">🔄</button>
				<button class="btn" id="gizmo-scale" title="Scale (S)">📏</button>
			</div>
		</div>
		
		<!-- Assets do Projeto -->
		<div class="section" style="flex:1;">
			<h3>🎨 Assets do Projeto</h3>
			<div id="assets-browser">
				<div style="color:#888;text-align:center;padding:20px;">
					🔄 Carregando modelos...
				</div>
			</div>
		</div>
		
		<!-- Ações Rápidas -->
		<div class="section">
			<h3>⚡ Ações</h3>
			<button class="btn" id="delete-object" style="background:#e74c3c;">🗑️ Deletar</button>
			<div style="display:grid;grid-template-columns:1fr 1fr;gap:4px;margin-top:6px;">
				<button class="btn" id="export-json" style="font-size:0.8rem;">💾 Export</button>
				<button class="btn" id="import-json-btn" style="font-size:0.8rem;">📁 Import</button>
			</div>
			<input type="file" id="import-json" accept=".json" style="display:none;" />
		</div>
		
		<!-- Hotkeys -->
		<div class="hotkeys">
			<strong>⌨️ Atalhos:</strong><br>
			G: Mover | R: Girar | S: Escalar<br>
			H: Ocultar | Ctrl+D: Duplicar<br>
			Del: Deletar | ESC: Deselecionar
		</div>
	</div>
	
	<!-- Sidebar Direita - Outliner -->
	<div id="right-sidebar">
		<h2 style="margin:0 0 16px 0;font-size:1.1rem;text-align:center;">🌳 Outliner</h2>
		
		<!-- Busca -->
		<input type="text" id="object-search" placeholder="🔍 Buscar objetos...">
		
		<!-- Controles Rápidos -->
		<div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:4px;margin-bottom:8px;">
			<button class="btn" id="group-selected" style="font-size:0.8rem;" title="Agrupar selecionados">👥</button>
			<button class="btn" id="hide-selected" style="font-size:0.8rem;" title="Ocultar selecionados">👁️</button>
			<button class="btn" id="lock-selected" style="font-size:0.8rem;" title="Bloquear selecionados">🔒</button>
		</div>
		
		<!-- Layers -->
		<div style="display:flex;gap:4px;margin-bottom:8px;">
			<select id="layer-select" style="flex:1;padding:4px;background:#333;color:#fff;border:1px solid #555;border-radius:4px;font-size:0.8rem;">
				<option value="">🏷️ Layer...</option>
				<option value="geometry">🏗️ Geometry</option>
				<option value="decorations">🎨 Decorations</option>
				<option value="gameplay">🎮 Gameplay</option>
				<option value="effects">✨ Effects</option>
			</select>
			<button class="btn" id="assign-layer" style="font-size:0.8rem;padding:4px 8px;">✓</button>
		</div>
		
		<!-- Selection Sets -->
		<div style="margin-bottom:12px;">
			<div style="display:flex;gap:4px;margin-bottom:4px;">
				<input type="text" id="selection-set-name" placeholder="Nome do set..." style="flex:1;padding:4px;background:#333;color:#fff;border:1px solid #555;border-radius:4px;font-size:0.8rem;">
				<button class="btn" id="save-selection-set" style="font-size:0.8rem;padding:4px 8px;">💾</button>
			</div>
			<div id="selection-sets-list" style="max-height:60px;overflow-y:auto;font-size:0.8rem;"></div>
		</div>
		
		<!-- Lista de Objetos -->
		<div style="flex:1;display:flex;flex-direction:column;">
			<h3 style="margin:0 0 8px 0;font-size:0.9rem;color:#ccc;">📋 Objetos na Cena</h3>
			<ul id="object-list"></ul>
		</div>
	</div>
	
	<!-- Área de Renderização -->
	<div id="main-content">
 		<canvas id="renderCanvas"></canvas>
 		
 		<!-- Bottom Bar - Propriedades -->
 		<div id="bottom-bar">
 			<div style="color:#fff;font-size:0.9rem;font-weight:bold;border-bottom:1px solid #444;padding-bottom:4px;" id="selected-object-info">
 				Nenhum objeto selecionado - Clique em um objeto para editar
 			</div>
 			<div id="edit-fields" style="display:flex;align-items:center;gap:18px;flex-wrap:wrap;">
 				<label style="color:#fff;font-size:0.85rem;">Cor:
 					<input type="color" id="edit-color" style="margin-left:6px;vertical-align:middle;" disabled>
 				</label>
 				<label style="color:#fff;font-size:0.85rem;">Tamanho:
 					<input type="number" id="edit-size" min="0.1" step="0.1" style="width:60px;margin-left:6px;" disabled>
 				</label>
 				<label style="color:#fff;font-size:0.85rem;">Posição:
 					X <input type="number" id="edit-pos-x" step="0.1" style="width:50px;" disabled>
 					Y <input type="number" id="edit-pos-y" step="0.1" style="width:50px;" disabled>
 					Z <input type="number" id="edit-pos-z" step="0.1" style="width:50px;" disabled>
 				</label>
 				<label style="color:#fff;font-size:0.85rem;">Rotação:
 					X <input type="number" id="edit-rot-x" step="0.01" style="width:50px;" disabled>
 					Y <input type="number" id="edit-rot-y" step="0.01" style="width:50px;" disabled>
 					Z <input type="number" id="edit-rot-z" step="0.01" style="width:50px;" disabled>
 				</label>
 				<label style="color:#fff;font-size:0.85rem;">Propriedades:
 					<select id="edit-props" style="margin-left:6px;" disabled>
 						<option value="movel">Móvel</option>
 						<option value="perigo">Perigo</option>
 						<option value="plataforma">Plataforma</option>
 						<option value="decorativo">Decorativo</option>
 					</select>
 					<input type="checkbox" id="edit-prop-value" style="margin-left:6px;" disabled>
 				</label>
 			</div>
 		</div>
	</div>
	
	<script src="https://cdn.babylonjs.com/babylon.js"></script>
	<script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
	<script src="./main.js"></script>
</body>
</html>
